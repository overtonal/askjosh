import"../chunks/DsnmJJEf.js";import{i as ge}from"../chunks/DeuuR4tB.js";import{G as ie,n as me,D as z,o as A,A as we,p as ye,a4 as y,ap as be,B as ke,H as Ee,C as j,F,z as L,af as xe,aj as Ae,w as K,J as Ie,I as V,aq as Me,ar as q,as as ee,an as ve,i as Te,at as Se,K as fe,L as Ce,au as Ne,av as De,aw as G,y as oe,ah as Re,ax as He,am as Be,ay as Oe,ad as Je,az as de,e as ue,aA as ce,aB as Ve,aC as Ye,W as Le,X as Q,_ as O,T as ae,Y as se,V as $,Z as $e,$ as C,aD as te,a0 as T,aE as J,S as qe}from"../chunks/DjpD7mbu.js";import{e as P,s as re}from"../chunks/CgJaHBXr.js";import{i as ze}from"../chunks/D2izdC5g.js";import{r as le,s as Fe}from"../chunks/DFYb4CIz.js";import{b as ne}from"../chunks/aT7cxuK0.js";function Ge(e,s,a){for(var r=e.items,i=[],l=s.length,t=0;t<l;t++)He(s[t].e,i,!0);var p=l>0&&i.length===0&&a!==null;if(p){var m=a.parentNode;Be(m),m.append(a),r.clear(),S(e,s[0].prev,s[l-1].next)}Oe(i,()=>{for(var g=0;g<l;g++){var b=s[g];p||(r.delete(b.k),S(e,b.prev,b.next)),oe(b.e,!p)}})}function Pe(e,s,a,r,i,l=null){var t=e,p={flags:s,items:new Map,first:null};{var m=e;t=A?z(we(m)):m.appendChild(ie())}A&&ye();var g=null,b=!1,I=new Map,n=be(()=>{var o=a();return Te(o)?o:o==null?[]:ve(o)}),_,v;function f(){Ue(v,_,p,I,t,i,s,r,a),l!==null&&(_.length===0?g?fe(g):g=K(()=>l(t)):g!==null&&Ce(g,()=>{g=null}))}me(()=>{v??=Je,_=y(n);var o=_.length;if(b&&o===0)return;b=o===0;let M=!1;if(A){var E=ke(t)===Ee;E!==(o===0)&&(t=j(),z(t),F(!1),M=!0)}if(A){for(var d=null,w,u=0;u<o;u++){if(L.nodeType===xe&&L.data===Ae){t=L,M=!0,F(!1);break}var x=_[u],c=r(x,u);w=Z(L,p,d,null,x,c,u,i,s,a),p.items.set(c,w),d=w}o>0&&z(j())}if(A)o===0&&l&&(g=K(()=>l(t)));else if(Ie()){var h=new Set,k=V;for(u=0;u<o;u+=1){x=_[u],c=r(x,u);var R=p.items.get(c)??I.get(c);R?pe(R,x,u):(w=Z(null,p,null,null,x,c,u,i,s,a,!0),I.set(c,w)),h.add(c)}for(const[H,B]of p.items)h.has(H)||k.skipped_effects.add(B.e);k.add_callback(f)}else f();M&&F(!0),y(n)}),A&&(t=L)}function Ue(e,s,a,r,i,l,t,p,m){var g=s.length,b=a.items,I=a.first,n=I,_,v=null,f=[],o=[],M,E,d,w;for(w=0;w<g;w+=1){if(M=s[w],E=p(M,w),d=b.get(E),d===void 0){var u=r.get(E);if(u!==void 0){r.delete(E),b.set(E,u);var x=v?v.next:n;S(a,v,u),S(a,u,x),U(u,x,i),v=u}else{var c=n?n.e.nodes_start:i;v=Z(c,a,v,v===null?a.first:v.next,M,E,w,l,t,m)}b.set(E,v),f=[],o=[],n=v.next;continue}if(pe(d,M,w),(d.e.f&G)!==0&&fe(d.e),d!==n){if(_!==void 0&&_.has(d)){if(f.length<o.length){var h=o[0],k;v=h.prev;var R=f[0],H=f[f.length-1];for(k=0;k<f.length;k+=1)U(f[k],h,i);for(k=0;k<o.length;k+=1)_.delete(o[k]);S(a,R.prev,H.next),S(a,v,R),S(a,H,h),n=h,v=H,w-=1,f=[],o=[]}else _.delete(d),U(d,n,i),S(a,d.prev,d.next),S(a,d,v===null?a.first:v.next),S(a,v,d),v=d;continue}for(f=[],o=[];n!==null&&n.k!==E;)(n.e.f&G)===0&&(_??=new Set).add(n),o.push(n),n=n.next;if(n===null)continue;d=n}f.push(d),v=d,n=d.next}if(n!==null||_!==void 0){for(var B=_===void 0?[]:ve(_);n!==null;)(n.e.f&G)===0&&B.push(n),n=n.next;var N=B.length;if(N>0){var D=g===0?i:null;Ge(a,B,D)}}e.first=a.first&&a.first.e,e.last=v&&v.e;for(var Y of r.values())oe(Y.e);r.clear()}function pe(e,s,a,r){Me(e.v,s),e.i=a}function Z(e,s,a,r,i,l,t,p,m,g,b){var I=(m&Ne)!==0,n=(m&De)===0,_=I?n?q(i,!1,!1):ee(i):i,v=(m&Se)===0?t:ee(t),f={i:v,v:_,k:l,a:null,e:null,prev:a,next:r};try{if(e===null){var o=document.createDocumentFragment();o.append(e=ie())}return f.e=K(()=>p(e,_,v,g),A),f.e.prev=a&&a.e,f.e.next=r&&r.e,a===null?b||(s.first=f):(a.next=f,a.e.next=f.e),r!==null&&(r.prev=f,r.e.prev=f.e),f}finally{}}function U(e,s,a){for(var r=e.next?e.next.e.nodes_start:a,i=s?s.e.nodes_start:a,l=e.e.nodes_start;l!==null&&l!==r;){var t=Re(l);i.before(l),l=t}}function S(e,s,a){s===null?e.first=a:(s.next=a,s.e.next=a&&a.e),a!==null&&(a.prev=s,a.e.prev=s&&s.e)}function We(e,s,a){var r=e==null?"":""+e;return r=r?r+" "+s:s,r===""?null:r}function Xe(e,s,a,r,i,l){var t=e.__className;if(A||t!==a||t===void 0){var p=We(a,r);(!A||p!==e.getAttribute("class"))&&(p==null?e.removeAttribute("class"):e.className=p),e.__className=a}return l}function Ke(e,s,a=s){var r=Ve(),i=new WeakSet;de(e,"input",l=>{var t=l?e.defaultValue:e.value;if(t=W(e)?X(t):t,a(t),V!==null&&i.add(V),r&&t!==(t=s())){var p=e.selectionStart,m=e.selectionEnd;e.value=t??"",m!==null&&(e.selectionStart=p,e.selectionEnd=Math.min(m,e.value.length))}}),(A&&e.defaultValue!==e.value||ue(s)==null&&e.value)&&(a(W(e)?X(e.value):e.value),V!==null&&i.add(V)),ce(()=>{var l=s();if(e===document.activeElement){var t=Ye??V;if(i.has(t))return}W(e)&&l===X(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function Ze(e,s,a=s){de(e,"change",r=>{var i=r?e.defaultChecked:e.checked;a(i)}),(A&&e.defaultChecked!==e.checked||ue(s)==null)&&a(e.checked),ce(()=>{var r=s();e.checked=!!r})}function W(e){var s=e.type;return s==="number"||s==="range"}function X(e){return e===""?null:+e}var Qe=Q('<div class="message bot typing svelte-1gppwf3"><strong class="svelte-1gppwf3">Josh:</strong> <span class="typing-dots svelte-1gppwf3"><span class="svelte-1gppwf3">.</span><span class="svelte-1gppwf3">.</span><span class="svelte-1gppwf3">.</span></span></div>'),je=Q('<div><strong class="svelte-1gppwf3"> </strong> </div>'),ea=Q('<h1 class="title svelte-1gppwf3">Ask Josh!</h1>  <button class="home-btn top-home-btn svelte-1gppwf3">üè† Home</button> <div class="main-layout svelte-1gppwf3"><div class="side-stack svelte-1gppwf3"><div class="sidebar svelte-1gppwf3"><div class="funny-toggle svelte-1gppwf3"><label class="switch svelte-1gppwf3"><input type="checkbox" class="svelte-1gppwf3"/> <span class="slider svelte-1gppwf3"></span></label> <span class="funny-label svelte-1gppwf3">Sexy Mode</span></div></div> <img alt="Oshie Bear" class="oshie large-osh svelte-1gppwf3" style="display:block;margin:1.5rem auto 2rem auto;"/></div> <div class="chat-section svelte-1gppwf3"><div class="chat-container svelte-1gppwf3"></div> <div class="input-container svelte-1gppwf3"><input type="text" placeholder="Ask Josh a question..." class="svelte-1gppwf3"/> <button class="svelte-1gppwf3">Send</button></div></div></div>',1);function va(e,s){Le(s,!1);let a=0,r=q(""),i=null,l=q(!1),t=q([]);function p(c){if(y(l)){const h=["idk lol, anyway I have to go and play badminton YOU SLAAAAG","idk lol, anyway I have to go and have a wank"];return h[Math.floor(Math.random()*h.length)]}return"idk lol, anyway I have to go and play badminton"}async function m(){if(y(r).trim()==="")return;J(t,[...y(t),{id:++a,sender:"user",text:y(r)}]),y(r),J(r,""),await new Promise(h=>setTimeout(h,1e3)),i=Symbol(),J(t,[...y(t),{id:++a,sender:"bot",text:"__typing__",typingId:i}]),await new Promise(h=>setTimeout(h,3e3)),J(t,y(t).filter(h=>h.text!=="__typing__"||h.typingId!==i)),i=null;const c=p();J(t,[...y(t),{id:++a,sender:"bot",text:c}])}ge();var g=ea(),b=O(ae(g),2),I=O(b,2),n=C(I),_=C(n),v=C(_),f=C(v),o=C(f);le(o),te(2),T(f),te(2),T(v),T(_);var M=O(_,2);T(n);var E=O(n,2),d=C(E);Pe(d,5,()=>y(t),c=>c.id,(c,h)=>{var k=qe(),R=ae(k);{var H=N=>{var D=Qe();$(N,D)},B=N=>{var D=je(),Y=C(D),_e=C(Y);T(Y);var he=O(Y);T(D),se(()=>{Xe(D,1,`message ${y(h).sender??""}`,"svelte-1gppwf3"),re(_e,`${y(h).sender==="user"?"You":"Josh"}:`),re(he,` ${y(h).text??""}`)}),$(N,D)};ze(R,N=>{y(h).text==="__typing__"?N(H):N(B,!1)})}$(c,k)}),T(d);var w=O(d,2),u=C(w);le(u);var x=O(u,2);T(w),T(E),T(I),se(()=>Fe(M,"src",`${ne??""}/osh.png`)),P("click",b,()=>window.location.href=`${ne}`),Ze(o,()=>y(l),c=>J(l,c)),Ke(u,()=>y(r),c=>J(r,c)),P("keydown",u,c=>c.key==="Enter"&&m()),P("click",x,m),$(e,g),$e()}export{va as component};
