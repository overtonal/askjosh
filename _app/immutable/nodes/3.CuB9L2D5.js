import"../chunks/DsnmJJEf.js";import{i as he}from"../chunks/DeuuR4tB.js";import{G as ne,n as me,D as z,o as M,A as pe,p as ge,a4 as b,ap as ye,B as be,H as we,C as j,F,z as Y,af as Ee,aj as ke,w as K,J as xe,I as J,aq as Ae,ar as q,as as ee,an as ie,i as Ie,at as Me,K as ve,L as Te,au as Se,av as Ce,aw as G,y as oe,ah as Ne,ax as De,am as Re,ay as He,ad as Be,az as ue,e as fe,aA as de,aB as Oe,aC as Je,W as Ve,X as Q,_ as B,T as ae,Y as se,V as L,Z as Ye,$ as D,aD as te,a0 as C,aE as O,S as Le}from"../chunks/DjpD7mbu.js";import{e as P,s as re}from"../chunks/CgJaHBXr.js";import{i as qe}from"../chunks/D2izdC5g.js";import{r as le,s as $e}from"../chunks/DFYb4CIz.js";import{b as ze}from"../chunks/DdA5X-Co.js";function Fe(e,s,a){for(var r=e.items,n=[],l=s.length,t=0;t<l;t++)De(s[t].e,n,!0);var c=l>0&&n.length===0&&a!==null;if(c){var y=a.parentNode;Re(y),y.append(a),r.clear(),S(e,s[0].prev,s[l-1].next)}He(n,()=>{for(var p=0;p<l;p++){var w=s[p];c||(r.delete(w.k),S(e,w.prev,w.next)),oe(w.e,!c)}})}function Ge(e,s,a,r,n,l=null){var t=e,c={flags:s,items:new Map,first:null};{var y=e;t=M?z(pe(y)):y.appendChild(ne())}M&&ge();var p=null,w=!1,A=new Map,i=ye(()=>{var u=a();return Ie(u)?u:u==null?[]:ie(u)}),h,v;function o(){Pe(v,h,c,A,t,n,s,r,a),l!==null&&(h.length===0?p?ve(p):p=K(()=>l(t)):p!==null&&Te(p,()=>{p=null}))}me(()=>{v??=Be,h=b(i);var u=h.length;if(w&&u===0)return;w=u===0;let I=!1;if(M){var E=be(t)===we;E!==(u===0)&&(t=j(),z(t),F(!1),I=!0)}if(M){for(var d=null,g,m=0;m<u;m++){if(Y.nodeType===Ee&&Y.data===ke){t=Y,I=!0,F(!1);break}var _=h[m],f=r(_,m);g=Z(Y,c,d,null,_,f,m,n,s,a),c.items.set(f,g),d=g}u>0&&z(j())}if(M)u===0&&l&&(p=K(()=>l(t)));else if(xe()){var T=new Set,k=J;for(m=0;m<u;m+=1){_=h[m],f=r(_,m);var R=c.items.get(f)??A.get(f);R?ce(R,_,m):(g=Z(null,c,null,null,_,f,m,n,s,a,!0),A.set(f,g)),T.add(f)}for(const[H,x]of c.items)T.has(H)||k.skipped_effects.add(x.e);k.add_callback(o)}else o();I&&F(!0),b(i)}),M&&(t=Y)}function Pe(e,s,a,r,n,l,t,c,y){var p=s.length,w=a.items,A=a.first,i=A,h,v=null,o=[],u=[],I,E,d,g;for(g=0;g<p;g+=1){if(I=s[g],E=c(I,g),d=w.get(E),d===void 0){var m=r.get(E);if(m!==void 0){r.delete(E),w.set(E,m);var _=v?v.next:i;S(a,v,m),S(a,m,_),U(m,_,n),v=m}else{var f=i?i.e.nodes_start:n;v=Z(f,a,v,v===null?a.first:v.next,I,E,g,l,t,y)}w.set(E,v),o=[],u=[],i=v.next;continue}if(ce(d,I,g),(d.e.f&G)!==0&&ve(d.e),d!==i){if(h!==void 0&&h.has(d)){if(o.length<u.length){var T=u[0],k;v=T.prev;var R=o[0],H=o[o.length-1];for(k=0;k<o.length;k+=1)U(o[k],T,n);for(k=0;k<u.length;k+=1)h.delete(u[k]);S(a,R.prev,H.next),S(a,v,R),S(a,H,T),i=T,v=H,g-=1,o=[],u=[]}else h.delete(d),U(d,i,n),S(a,d.prev,d.next),S(a,d,v===null?a.first:v.next),S(a,v,d),v=d;continue}for(o=[],u=[];i!==null&&i.k!==E;)(i.e.f&G)===0&&(h??=new Set).add(i),u.push(i),i=i.next;if(i===null)continue;d=i}o.push(d),v=d,i=d.next}if(i!==null||h!==void 0){for(var x=h===void 0?[]:ie(h);i!==null;)(i.e.f&G)===0&&x.push(i),i=i.next;var N=x.length;if(N>0){var V=p===0?n:null;Fe(a,x,V)}}e.first=a.first&&a.first.e,e.last=v&&v.e;for(var $ of r.values())oe($.e);r.clear()}function ce(e,s,a,r){Ae(e.v,s),e.i=a}function Z(e,s,a,r,n,l,t,c,y,p,w){var A=(y&Se)!==0,i=(y&Ce)===0,h=A?i?q(n,!1,!1):ee(n):n,v=(y&Me)===0?t:ee(t),o={i:v,v:h,k:l,a:null,e:null,prev:a,next:r};try{if(e===null){var u=document.createDocumentFragment();u.append(e=ne())}return o.e=K(()=>c(e,h,v,p),M),o.e.prev=a&&a.e,o.e.next=r&&r.e,a===null?w||(s.first=o):(a.next=o,a.e.next=o.e),r!==null&&(r.prev=o,r.e.prev=o.e),o}finally{}}function U(e,s,a){for(var r=e.next?e.next.e.nodes_start:a,n=s?s.e.nodes_start:a,l=e.e.nodes_start;l!==null&&l!==r;){var t=Ne(l);n.before(l),l=t}}function S(e,s,a){s===null?e.first=a:(s.next=a,s.e.next=a&&a.e),a!==null&&(a.prev=s,a.e.prev=s&&s.e)}function Ue(e,s,a){var r=e==null?"":""+e;return r=r?r+" "+s:s,r===""?null:r}function We(e,s,a,r,n,l){var t=e.__className;if(M||t!==a||t===void 0){var c=Ue(a,r);(!M||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=a}return l}function Xe(e,s,a=s){var r=Oe(),n=new WeakSet;ue(e,"input",l=>{var t=l?e.defaultValue:e.value;if(t=W(e)?X(t):t,a(t),J!==null&&n.add(J),r&&t!==(t=s())){var c=e.selectionStart,y=e.selectionEnd;e.value=t??"",y!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(y,e.value.length))}}),(M&&e.defaultValue!==e.value||fe(s)==null&&e.value)&&(a(W(e)?X(e.value):e.value),J!==null&&n.add(J)),de(()=>{var l=s();if(e===document.activeElement){var t=Je??J;if(n.has(t))return}W(e)&&l===X(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function Ke(e,s,a=s){ue(e,"change",r=>{var n=r?e.defaultChecked:e.checked;a(n)}),(M&&e.defaultChecked!==e.checked||fe(s)==null)&&a(e.checked),de(()=>{var r=s();e.checked=!!r})}function W(e){var s=e.type;return s==="number"||s==="range"}function X(e){return e===""?null:+e}var Ze=Q('<div class="message bot typing svelte-ts0ou4"><strong class="svelte-ts0ou4">Josh:</strong> <span class="typing-dots svelte-ts0ou4"><span class="svelte-ts0ou4">.</span><span class="svelte-ts0ou4">.</span><span class="svelte-ts0ou4">.</span></span></div>'),Qe=Q('<div><strong class="svelte-ts0ou4"> </strong> </div>'),je=Q('<h1 class="title svelte-ts0ou4">Ask Josh!</h1>  <div class="main-layout svelte-ts0ou4"><div class="sidebar svelte-ts0ou4"><button class="home-btn svelte-ts0ou4">üè† Home</button> <div class="funny-toggle svelte-ts0ou4"><label class="switch svelte-ts0ou4"><input type="checkbox" class="svelte-ts0ou4"/> <span class="slider svelte-ts0ou4"></span></label> <span class="funny-label svelte-ts0ou4">Sexy Mode</span></div></div> <img alt="Oshie Bear" class="oshie svelte-ts0ou4"/> <div class="chat-section svelte-ts0ou4"><div class="chat-container svelte-ts0ou4"></div> <div class="input-container svelte-ts0ou4"><input type="text" placeholder="Ask Josh a question..." class="svelte-ts0ou4"/> <button class="svelte-ts0ou4">Send</button></div></div></div>',1);function ia(e,s){Ve(s,!1);let a=0,r=q(""),n=null,l=q(!1),t=q([]);function c(_){if(b(l)){const f=["idk lol, anyway I have to go and play badminton YOU SLAAAAG","idk lol, anyway I have to go and have a wank"];return f[Math.floor(Math.random()*f.length)]}return"idk lol, anyway I have to go and play badminton"}async function y(){if(b(r).trim()==="")return;O(t,[...b(t),{id:++a,sender:"user",text:b(r)}]),b(r),O(r,""),await new Promise(f=>setTimeout(f,1e3)),n=Symbol(),O(t,[...b(t),{id:++a,sender:"bot",text:"__typing__",typingId:n}]),await new Promise(f=>setTimeout(f,3e3)),O(t,b(t).filter(f=>f.text!=="__typing__"||f.typingId!==n)),n=null;const _=c();O(t,[...b(t),{id:++a,sender:"bot",text:_}])}he();var p=je(),w=B(ae(p),2),A=D(w),i=D(A),h=B(i,2),v=D(h),o=D(v);le(o),te(2),C(v),te(2),C(h),C(A);var u=B(A,2),I=B(u,2),E=D(I);Ge(E,5,()=>b(t),_=>_.id,(_,f)=>{var T=Le(),k=ae(T);{var R=x=>{var N=Ze();L(x,N)},H=x=>{var N=Qe(),V=D(N),$=D(V);C(V);var _e=B(V);C(N),se(()=>{We(N,1,`message ${b(f).sender??""}`,"svelte-ts0ou4"),re($,`${b(f).sender==="user"?"You":"Josh"}:`),re(_e,` ${b(f).text??""}`)}),L(x,N)};qe(k,x=>{b(f).text==="__typing__"?x(R):x(H,!1)})}L(_,T)}),C(E);var d=B(E,2),g=D(d);le(g);var m=B(g,2);C(d),C(I),C(w),se(()=>$e(u,"src",`${ze??""}/osh.png`)),P("click",i,()=>window.location.href="/"),Ke(o,()=>b(l),_=>O(l,_)),Xe(g,()=>b(r),_=>O(r,_)),P("keydown",g,_=>_.key==="Enter"&&y()),P("click",m,y),L(e,p),Ye()}export{ia as component};
