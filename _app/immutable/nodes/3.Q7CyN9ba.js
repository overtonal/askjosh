import"../chunks/DsnmJJEf.js";import{i as fe}from"../chunks/CKT1CvWO.js";import{G as ae,n as ue,D as Y,o as A,A as de,p as oe,a4 as w,ap as ce,B as _e,H as me,C as K,F as L,z as R,af as pe,aj as he,w as P,J as ge,I as C,aq as xe,ar as W,as as U,an as re,i as we,at as ye,K as se,L as be,au as Ee,av as qe,aw as $,y as te,ah as Te,ax as Ie,am as Ae,ay as Me,ad as Ne,az as Se,aA as Ce,e as De,aB as ke,aC as Be,W as Re,X as G,_ as H,T as Z,Y as Q,V,Z as He,$ as O,a0 as N,aD as S,S as Oe}from"../chunks/CjAOV-cV.js";import{e as j,s as ee}from"../chunks/Bbs0IFvB.js";import{i as Ve}from"../chunks/Bc3ayBJb.js";import{r as Ye,s as Le}from"../chunks/C5TeH3l6.js";import{b as $e}from"../chunks/C8cF7MZH.js";function ze(a,r,e){for(var s=a.items,f=[],v=r.length,t=0;t<v;t++)Ie(r[t].e,f,!0);var o=v>0&&f.length===0&&e!==null;if(o){var p=e.parentNode;Ae(p),p.append(e),s.clear(),I(a,r[0].prev,r[v-1].next)}Me(f,()=>{for(var m=0;m<v;m++){var h=r[m];o||(s.delete(h.k),I(a,h.prev,h.next)),te(h.e,!o)}})}function Fe(a,r,e,s,f,v=null){var t=a,o={flags:r,items:new Map,first:null};{var p=a;t=A?Y(de(p)):p.appendChild(ae())}A&&oe();var m=null,h=!1,q=new Map,i=ce(()=>{var n=e();return we(n)?n:n==null?[]:re(n)}),c,u;function l(){Je(u,c,o,q,t,f,r,s,e),v!==null&&(c.length===0?m?se(m):m=P(()=>v(t)):m!==null&&be(m,()=>{m=null}))}ue(()=>{u??=Ne,c=w(i);var n=c.length;if(h&&n===0)return;h=n===0;let T=!1;if(A){var E=_e(t)===me;E!==(n===0)&&(t=K(),Y(t),L(!1),T=!0)}if(A){for(var _=null,g,d=0;d<n;d++){if(R.nodeType===pe&&R.data===he){t=R,T=!0,L(!1);break}var x=c[d],y=s(x,d);g=X(R,o,_,null,x,y,d,f,r,e),o.items.set(y,g),_=g}n>0&&Y(K())}if(A)n===0&&v&&(m=P(()=>v(t)));else if(ge()){var M=new Set,b=C;for(d=0;d<n;d+=1){x=c[d],y=s(x,d);var D=o.items.get(y)??q.get(y);D?le(D,x,d):(g=X(null,o,null,null,x,y,d,f,r,e,!0),q.set(y,g)),M.add(y)}for(const[k,B]of o.items)M.has(k)||b.skipped_effects.add(B.e);b.add_callback(l)}else l();T&&L(!0),w(i)}),A&&(t=R)}function Je(a,r,e,s,f,v,t,o,p){var m=r.length,h=e.items,q=e.first,i=q,c,u=null,l=[],n=[],T,E,_,g;for(g=0;g<m;g+=1){if(T=r[g],E=o(T,g),_=h.get(E),_===void 0){var d=s.get(E);if(d!==void 0){s.delete(E),h.set(E,d);var x=u?u.next:i;I(e,u,d),I(e,d,x),z(d,x,f),u=d}else{var y=i?i.e.nodes_start:f;u=X(y,e,u,u===null?e.first:u.next,T,E,g,v,t,p)}h.set(E,u),l=[],n=[],i=u.next;continue}if(le(_,T,g),(_.e.f&$)!==0&&se(_.e),_!==i){if(c!==void 0&&c.has(_)){if(l.length<n.length){var M=n[0],b;u=M.prev;var D=l[0],k=l[l.length-1];for(b=0;b<l.length;b+=1)z(l[b],M,f);for(b=0;b<n.length;b+=1)c.delete(n[b]);I(e,D.prev,k.next),I(e,u,D),I(e,k,M),i=M,u=k,g-=1,l=[],n=[]}else c.delete(_),z(_,i,f),I(e,_.prev,_.next),I(e,_,u===null?e.first:u.next),I(e,u,_),u=_;continue}for(l=[],n=[];i!==null&&i.k!==E;)(i.e.f&$)===0&&(c??=new Set).add(i),n.push(i),i=i.next;if(i===null)continue;_=i}l.push(_),u=_,i=_.next}if(i!==null||c!==void 0){for(var B=c===void 0?[]:re(c);i!==null;)(i.e.f&$)===0&&B.push(i),i=i.next;var ne=B.length;if(ne>0){var ie=m===0?f:null;ze(e,B,ie)}}a.first=e.first&&e.first.e,a.last=u&&u.e;for(var ve of s.values())te(ve.e);s.clear()}function le(a,r,e,s){xe(a.v,r),a.i=e}function X(a,r,e,s,f,v,t,o,p,m,h){var q=(p&Ee)!==0,i=(p&qe)===0,c=q?i?W(f,!1,!1):U(f):f,u=(p&ye)===0?t:U(t),l={i:u,v:c,k:v,a:null,e:null,prev:e,next:s};try{if(a===null){var n=document.createDocumentFragment();n.append(a=ae())}return l.e=P(()=>o(a,c,u,m),A),l.e.prev=e&&e.e,l.e.next=s&&s.e,e===null?h||(r.first=l):(e.next=l,e.e.next=l.e),s!==null&&(s.prev=l,s.e.prev=l.e),l}finally{}}function z(a,r,e){for(var s=a.next?a.next.e.nodes_start:e,f=r?r.e.nodes_start:e,v=a.e.nodes_start;v!==null&&v!==s;){var t=Te(v);f.before(v),v=t}}function I(a,r,e){r===null?a.first=e:(r.next=e,r.e.next=e&&e.e),e!==null&&(e.prev=r,e.e.prev=r&&r.e)}function Pe(a,r,e){var s=a==null?"":""+a;return s=s?s+" "+r:r,s===""?null:s}function We(a,r,e,s,f,v){var t=a.__className;if(A||t!==e||t===void 0){var o=Pe(e,s);(!A||o!==a.getAttribute("class"))&&(o==null?a.removeAttribute("class"):a.className=o),a.__className=e}return v}function Xe(a,r,e=r){var s=Se(),f=new WeakSet;Ce(a,"input",v=>{var t=v?a.defaultValue:a.value;if(t=F(a)?J(t):t,e(t),C!==null&&f.add(C),s&&t!==(t=r())){var o=a.selectionStart,p=a.selectionEnd;a.value=t??"",p!==null&&(a.selectionStart=o,a.selectionEnd=Math.min(p,a.value.length))}}),(A&&a.defaultValue!==a.value||De(r)==null&&a.value)&&(e(F(a)?J(a.value):a.value),C!==null&&f.add(C)),ke(()=>{var v=r();if(a===document.activeElement){var t=Be??C;if(f.has(t))return}F(a)&&v===J(a.value)||a.type==="date"&&!v&&!a.value||v!==a.value&&(a.value=v??"")})}function F(a){var r=a.type;return r==="number"||r==="range"}function J(a){return a===""?null:+a}var Ge=G('<div class="message bot typing svelte-1xiwqdr"><strong class="svelte-1xiwqdr">Bot:</strong> <span class="typing-dots svelte-1xiwqdr"><span class="svelte-1xiwqdr">.</span><span class="svelte-1xiwqdr">.</span><span class="svelte-1xiwqdr">.</span></span></div>'),Ke=G('<div><strong class="svelte-1xiwqdr"> </strong> </div>'),Ue=G('<h1 class="title svelte-1xiwqdr">Ask Josh!</h1>  <div class="main-layout svelte-1xiwqdr"><img alt="Oshie Bear" class="oshie svelte-1xiwqdr"/> <div class="chat-section svelte-1xiwqdr"><div class="chat-container svelte-1xiwqdr"></div> <div class="input-container svelte-1xiwqdr"><input type="text" placeholder="Type a message..." class="svelte-1xiwqdr"/> <button class="svelte-1xiwqdr">Send</button></div></div></div>',1);function ta(a,r){Re(r,!1);let e=W([]),s=W(""),f=null;function v(l){return"idk lol, anyway I have to go and play badminton"}async function t(){if(w(s).trim()==="")return;S(e,[...w(e),{sender:"user",text:w(s)}]),w(s),S(s,""),await new Promise(n=>setTimeout(n,1e3)),f=Symbol(),S(e,[...w(e),{sender:"bot",text:"__typing__",typingId:f}]),await new Promise(n=>setTimeout(n,3e3)),S(e,w(e).filter(n=>n.text!=="__typing__"||n.typingId!==f)),f=null;const l=v();S(e,[...w(e),{sender:"bot",text:l}])}fe();var o=Ue(),p=H(Z(o),2),m=O(p),h=H(m,2),q=O(h);Fe(q,5,()=>w(e),l=>l.typingId||l.text+l.sender,(l,n)=>{var T=Oe(),E=Z(T);{var _=d=>{var x=Ge();V(d,x)},g=d=>{var x=Ke(),y=O(x),M=O(y);N(y);var b=H(y);N(x),Q(()=>{We(x,1,`message ${w(n).sender??""}`,"svelte-1xiwqdr"),ee(M,`${w(n).sender==="user"?"You":"Bot"}:`),ee(b,` ${w(n).text??""}`)}),V(d,x)};Ve(E,d=>{w(n).text==="__typing__"?d(_):d(g,!1)})}V(l,T)}),N(q);var i=H(q,2),c=O(i);Ye(c);var u=H(c,2);N(i),N(h),N(p),Q(()=>Le(m,"src",`${$e??""}/osh.png`)),Xe(c,()=>w(s),l=>S(s,l)),j("keydown",c,l=>l.key==="Enter"&&t()),j("click",u,t),V(a,o),He()}export{ta as component};
