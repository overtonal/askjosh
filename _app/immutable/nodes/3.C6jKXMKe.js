import"../chunks/DsnmJJEf.js";import{i as _e}from"../chunks/DeuuR4tB.js";import{G as ne,n as he,D as z,o as I,A as me,p as pe,a4 as b,ap as ye,B as be,H as ge,C as j,F,z as V,af as qe,aj as we,w as K,J as Ee,I as H,aq as xe,ar as L,as as ee,an as ie,i as ke,at as Ae,K as ve,L as Ie,au as Me,av as Te,aw as G,y as fe,ah as Se,ax as Ce,am as Ne,ay as Be,ad as De,az as ce,e as oe,aA as ue,aB as Re,aC as He,W as Oe,X as Q,_ as D,T as ae,Y as se,V as Y,Z as Ve,$ as N,aD as te,a0 as C,aE as R,S as Ye}from"../chunks/DjpD7mbu.js";import{e as P,s as re}from"../chunks/CgJaHBXr.js";import{i as Le}from"../chunks/D2izdC5g.js";import{r as le,s as Je}from"../chunks/DFYb4CIz.js";import{b as $e}from"../chunks/w5dnUy_y.js";function ze(e,s,a){for(var t=e.items,i=[],n=s.length,r=0;r<n;r++)Ce(s[r].e,i,!0);var _=n>0&&i.length===0&&a!==null;if(_){var p=a.parentNode;Ne(p),p.append(a),t.clear(),T(e,s[0].prev,s[n-1].next)}Be(i,()=>{for(var m=0;m<n;m++){var y=s[m];_||(t.delete(y.k),T(e,y.prev,y.next)),fe(y.e,!_)}})}function Fe(e,s,a,t,i,n=null){var r=e,_={flags:s,items:new Map,first:null};{var p=e;r=I?z(me(p)):p.appendChild(ne())}I&&pe();var m=null,y=!1,M=new Map,v=ye(()=>{var o=a();return ke(o)?o:o==null?[]:ie(o)}),h,f;function c(){Ge(f,h,_,M,r,i,s,t,a),n!==null&&(h.length===0?m?ve(m):m=K(()=>n(r)):m!==null&&Ie(m,()=>{m=null}))}he(()=>{f??=De,h=b(v);var o=h.length;if(y&&o===0)return;y=o===0;let x=!1;if(I){var q=be(r)===ge;q!==(o===0)&&(r=j(),z(r),F(!1),x=!0)}if(I){for(var u=null,g,l=0;l<o;l++){if(V.nodeType===qe&&V.data===we){r=V,x=!0,F(!1);break}var d=h[l],w=t(d,l);g=Z(V,_,u,null,d,w,l,i,s,a),_.items.set(w,g),u=g}o>0&&z(j())}if(I)o===0&&n&&(m=K(()=>n(r)));else if(Ee()){var S=new Set,E=H;for(l=0;l<o;l+=1){d=h[l],w=t(d,l);var B=_.items.get(w)??M.get(w);B?de(B,d,l):(g=Z(null,_,null,null,d,w,l,i,s,a,!0),M.set(w,g)),S.add(w)}for(const[k,A]of _.items)S.has(k)||E.skipped_effects.add(A.e);E.add_callback(c)}else c();x&&F(!0),b(v)}),I&&(r=V)}function Ge(e,s,a,t,i,n,r,_,p){var m=s.length,y=a.items,M=a.first,v=M,h,f=null,c=[],o=[],x,q,u,g;for(g=0;g<m;g+=1){if(x=s[g],q=_(x,g),u=y.get(q),u===void 0){var l=t.get(q);if(l!==void 0){t.delete(q),y.set(q,l);var d=f?f.next:v;T(a,f,l),T(a,l,d),U(l,d,i),f=l}else{var w=v?v.e.nodes_start:i;f=Z(w,a,f,f===null?a.first:f.next,x,q,g,n,r,p)}y.set(q,f),c=[],o=[],v=f.next;continue}if(de(u,x,g),(u.e.f&G)!==0&&ve(u.e),u!==v){if(h!==void 0&&h.has(u)){if(c.length<o.length){var S=o[0],E;f=S.prev;var B=c[0],k=c[c.length-1];for(E=0;E<c.length;E+=1)U(c[E],S,i);for(E=0;E<o.length;E+=1)h.delete(o[E]);T(a,B.prev,k.next),T(a,f,B),T(a,k,S),v=S,f=k,g-=1,c=[],o=[]}else h.delete(u),U(u,v,i),T(a,u.prev,u.next),T(a,u,f===null?a.first:f.next),T(a,f,u),f=u;continue}for(c=[],o=[];v!==null&&v.k!==q;)(v.e.f&G)===0&&(h??=new Set).add(v),o.push(v),v=v.next;if(v===null)continue;u=v}c.push(u),f=u,v=u.next}if(v!==null||h!==void 0){for(var A=h===void 0?[]:ie(h);v!==null;)(v.e.f&G)===0&&A.push(v),v=v.next;var O=A.length;if(O>0){var J=m===0?i:null;ze(a,A,J)}}e.first=a.first&&a.first.e,e.last=f&&f.e;for(var $ of t.values())fe($.e);t.clear()}function de(e,s,a,t){xe(e.v,s),e.i=a}function Z(e,s,a,t,i,n,r,_,p,m,y){var M=(p&Me)!==0,v=(p&Te)===0,h=M?v?L(i,!1,!1):ee(i):i,f=(p&Ae)===0?r:ee(r),c={i:f,v:h,k:n,a:null,e:null,prev:a,next:t};try{if(e===null){var o=document.createDocumentFragment();o.append(e=ne())}return c.e=K(()=>_(e,h,f,m),I),c.e.prev=a&&a.e,c.e.next=t&&t.e,a===null?y||(s.first=c):(a.next=c,a.e.next=c.e),t!==null&&(t.prev=c,t.e.prev=c.e),c}finally{}}function U(e,s,a){for(var t=e.next?e.next.e.nodes_start:a,i=s?s.e.nodes_start:a,n=e.e.nodes_start;n!==null&&n!==t;){var r=Se(n);i.before(n),n=r}}function T(e,s,a){s===null?e.first=a:(s.next=a,s.e.next=a&&a.e),a!==null&&(a.prev=s,a.e.prev=s&&s.e)}function Pe(e,s,a){var t=e==null?"":""+e;return t=t?t+" "+s:s,t===""?null:t}function Ue(e,s,a,t,i,n){var r=e.__className;if(I||r!==a||r===void 0){var _=Pe(a,t);(!I||_!==e.getAttribute("class"))&&(_==null?e.removeAttribute("class"):e.className=_),e.__className=a}return n}function We(e,s,a=s){var t=Re(),i=new WeakSet;ce(e,"input",n=>{var r=n?e.defaultValue:e.value;if(r=W(e)?X(r):r,a(r),H!==null&&i.add(H),t&&r!==(r=s())){var _=e.selectionStart,p=e.selectionEnd;e.value=r??"",p!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(p,e.value.length))}}),(I&&e.defaultValue!==e.value||oe(s)==null&&e.value)&&(a(W(e)?X(e.value):e.value),H!==null&&i.add(H)),ue(()=>{var n=s();if(e===document.activeElement){var r=He??H;if(i.has(r))return}W(e)&&n===X(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function Xe(e,s,a=s){ce(e,"change",t=>{var i=t?e.defaultChecked:e.checked;a(i)}),(I&&e.defaultChecked!==e.checked||oe(s)==null)&&a(e.checked),ue(()=>{var t=s();e.checked=!!t})}function W(e){var s=e.type;return s==="number"||s==="range"}function X(e){return e===""?null:+e}var Ke=Q('<div class="message bot typing svelte-eqcf1"><strong class="svelte-eqcf1">Bot:</strong> <span class="typing-dots svelte-eqcf1"><span class="svelte-eqcf1">.</span><span class="svelte-eqcf1">.</span><span class="svelte-eqcf1">.</span></span></div>'),Ze=Q('<div><strong class="svelte-eqcf1"> </strong> </div>'),Qe=Q('<h1 class="title svelte-eqcf1">Ask Josh!</h1>  <div class="main-layout svelte-eqcf1"><div class="sidebar svelte-eqcf1"><button class="home-btn svelte-eqcf1">üè† Home</button> <div class="funny-toggle svelte-eqcf1"><label class="switch svelte-eqcf1"><input type="checkbox" class="svelte-eqcf1"/> <span class="slider svelte-eqcf1"></span></label> <span class="funny-label svelte-eqcf1">Sexy Mode</span></div></div> <img alt="Oshie Bear" class="oshie svelte-eqcf1"/> <div class="chat-section svelte-eqcf1"><div class="chat-container svelte-eqcf1"></div> <div class="input-container svelte-eqcf1"><input type="text" placeholder="Ask Josh a question..." class="svelte-eqcf1"/> <button class="svelte-eqcf1">Send</button></div></div></div>',1);function na(e,s){Oe(s,!1);let a=L([]),t=L(""),i=null,n=L(!1);function r(l){if(b(n)){const d=["idk lol, anyway I have to go and play badminton YOU SLAAAAG","idk lol, anyway I have to go and have a wank"];return d[Math.floor(Math.random()*d.length)]}return"idk lol, anyway I have to go and play badminton"}async function _(){if(b(t).trim()==="")return;R(a,[...b(a),{sender:"user",text:b(t)}]),b(t),R(t,""),await new Promise(d=>setTimeout(d,1e3)),i=Symbol(),R(a,[...b(a),{sender:"bot",text:"__typing__",typingId:i}]),await new Promise(d=>setTimeout(d,3e3)),R(a,b(a).filter(d=>d.text!=="__typing__"||d.typingId!==i)),i=null;const l=r();R(a,[...b(a),{sender:"bot",text:l}])}_e();var p=Qe(),m=D(ae(p),2),y=N(m),M=N(y),v=D(M,2),h=N(v),f=N(h);le(f),te(2),C(h),te(2),C(v),C(y);var c=D(y,2),o=D(c,2),x=N(o);Fe(x,5,()=>b(a),l=>l.typingId||l.text+l.sender,(l,d)=>{var w=Ye(),S=ae(w);{var E=k=>{var A=Ke();Y(k,A)},B=k=>{var A=Ze(),O=N(A),J=N(O);C(O);var $=D(O);C(A),se(()=>{Ue(A,1,`message ${b(d).sender??""}`,"svelte-eqcf1"),re(J,`${b(d).sender==="user"?"You":"Bot"}:`),re($,` ${b(d).text??""}`)}),Y(k,A)};Le(S,k=>{b(d).text==="__typing__"?k(E):k(B,!1)})}Y(l,w)}),C(x);var q=D(x,2),u=N(q);le(u);var g=D(u,2);C(q),C(o),C(m),se(()=>Je(c,"src",`${$e??""}/osh.png`)),P("click",M,()=>window.location.href="/"),Xe(f,()=>b(n),l=>R(n,l)),We(u,()=>b(t),l=>R(t,l)),P("keydown",u,l=>l.key==="Enter"&&_()),P("click",g,_),Y(e,p),Ve()}export{na as component};
