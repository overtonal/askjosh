import"../chunks/DsnmJJEf.js";import{i as _e}from"../chunks/DeuuR4tB.js";import{G as ne,n as he,D as z,o as M,A as me,p as pe,a4 as b,ap as ye,B as be,H as ge,C as j,F,z as Y,af as we,aj as Ee,w as K,J as xe,I as O,aq as ke,ar as q,as as ee,an as ie,i as Ae,at as Ie,K as ve,L as Me,au as Te,av as Se,aw as G,y as oe,ah as Ce,ax as Ne,am as Be,ay as De,ad as Re,az as ue,e as fe,aA as de,aB as He,aC as Oe,W as Ve,X as Q,_ as R,T as ae,Y as se,V as L,Z as Ye,$ as B,aD as te,a0 as N,aE as H,S as Le}from"../chunks/DjpD7mbu.js";import{e as P,s as re}from"../chunks/CgJaHBXr.js";import{i as qe}from"../chunks/D2izdC5g.js";import{r as le,s as Je}from"../chunks/DFYb4CIz.js";import{b as $e}from"../chunks/DOtosSO6.js";function ze(e,s,a){for(var t=e.items,i=[],n=s.length,r=0;r<n;r++)Ne(s[r].e,i,!0);var _=n>0&&i.length===0&&a!==null;if(_){var p=a.parentNode;Be(p),p.append(a),t.clear(),S(e,s[0].prev,s[n-1].next)}De(i,()=>{for(var m=0;m<n;m++){var y=s[m];_||(t.delete(y.k),S(e,y.prev,y.next)),oe(y.e,!_)}})}function Fe(e,s,a,t,i,n=null){var r=e,_={flags:s,items:new Map,first:null};{var p=e;r=M?z(me(p)):p.appendChild(ne())}M&&pe();var m=null,y=!1,T=new Map,v=ye(()=>{var f=a();return Ae(f)?f:f==null?[]:ie(f)}),h,o;function u(){Ge(o,h,_,T,r,i,s,t,a),n!==null&&(h.length===0?m?ve(m):m=K(()=>n(r)):m!==null&&Me(m,()=>{m=null}))}he(()=>{o??=Re,h=b(v);var f=h.length;if(y&&f===0)return;y=f===0;let k=!1;if(M){var w=be(r)===ge;w!==(f===0)&&(r=j(),z(r),F(!1),k=!0)}if(M){for(var d=null,g,l=0;l<f;l++){if(Y.nodeType===we&&Y.data===Ee){r=Y,k=!0,F(!1);break}var c=h[l],E=t(c,l);g=Z(Y,_,d,null,c,E,l,i,s,a),_.items.set(E,g),d=g}f>0&&z(j())}if(M)f===0&&n&&(m=K(()=>n(r)));else if(xe()){var C=new Set,x=O;for(l=0;l<f;l+=1){c=h[l],E=t(c,l);var D=_.items.get(E)??T.get(E);D?ce(D,c,l):(g=Z(null,_,null,null,c,E,l,i,s,a,!0),T.set(E,g)),C.add(E)}for(const[A,I]of _.items)C.has(A)||x.skipped_effects.add(I.e);x.add_callback(u)}else u();k&&F(!0),b(v)}),M&&(r=Y)}function Ge(e,s,a,t,i,n,r,_,p){var m=s.length,y=a.items,T=a.first,v=T,h,o=null,u=[],f=[],k,w,d,g;for(g=0;g<m;g+=1){if(k=s[g],w=_(k,g),d=y.get(w),d===void 0){var l=t.get(w);if(l!==void 0){t.delete(w),y.set(w,l);var c=o?o.next:v;S(a,o,l),S(a,l,c),U(l,c,i),o=l}else{var E=v?v.e.nodes_start:i;o=Z(E,a,o,o===null?a.first:o.next,k,w,g,n,r,p)}y.set(w,o),u=[],f=[],v=o.next;continue}if(ce(d,k,g),(d.e.f&G)!==0&&ve(d.e),d!==v){if(h!==void 0&&h.has(d)){if(u.length<f.length){var C=f[0],x;o=C.prev;var D=u[0],A=u[u.length-1];for(x=0;x<u.length;x+=1)U(u[x],C,i);for(x=0;x<f.length;x+=1)h.delete(f[x]);S(a,D.prev,A.next),S(a,o,D),S(a,A,C),v=C,o=A,g-=1,u=[],f=[]}else h.delete(d),U(d,v,i),S(a,d.prev,d.next),S(a,d,o===null?a.first:o.next),S(a,o,d),o=d;continue}for(u=[],f=[];v!==null&&v.k!==w;)(v.e.f&G)===0&&(h??=new Set).add(v),f.push(v),v=v.next;if(v===null)continue;d=v}u.push(d),o=d,v=d.next}if(v!==null||h!==void 0){for(var I=h===void 0?[]:ie(h);v!==null;)(v.e.f&G)===0&&I.push(v),v=v.next;var V=I.length;if(V>0){var J=m===0?i:null;ze(a,I,J)}}e.first=a.first&&a.first.e,e.last=o&&o.e;for(var $ of t.values())oe($.e);t.clear()}function ce(e,s,a,t){ke(e.v,s),e.i=a}function Z(e,s,a,t,i,n,r,_,p,m,y){var T=(p&Te)!==0,v=(p&Se)===0,h=T?v?q(i,!1,!1):ee(i):i,o=(p&Ie)===0?r:ee(r),u={i:o,v:h,k:n,a:null,e:null,prev:a,next:t};try{if(e===null){var f=document.createDocumentFragment();f.append(e=ne())}return u.e=K(()=>_(e,h,o,m),M),u.e.prev=a&&a.e,u.e.next=t&&t.e,a===null?y||(s.first=u):(a.next=u,a.e.next=u.e),t!==null&&(t.prev=u,t.e.prev=u.e),u}finally{}}function U(e,s,a){for(var t=e.next?e.next.e.nodes_start:a,i=s?s.e.nodes_start:a,n=e.e.nodes_start;n!==null&&n!==t;){var r=Ce(n);i.before(n),n=r}}function S(e,s,a){s===null?e.first=a:(s.next=a,s.e.next=a&&a.e),a!==null&&(a.prev=s,a.e.prev=s&&s.e)}function Pe(e,s,a){var t=e==null?"":""+e;return t=t?t+" "+s:s,t===""?null:t}function Ue(e,s,a,t,i,n){var r=e.__className;if(M||r!==a||r===void 0){var _=Pe(a,t);(!M||_!==e.getAttribute("class"))&&(_==null?e.removeAttribute("class"):e.className=_),e.__className=a}return n}function We(e,s,a=s){var t=He(),i=new WeakSet;ue(e,"input",n=>{var r=n?e.defaultValue:e.value;if(r=W(e)?X(r):r,a(r),O!==null&&i.add(O),t&&r!==(r=s())){var _=e.selectionStart,p=e.selectionEnd;e.value=r??"",p!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(p,e.value.length))}}),(M&&e.defaultValue!==e.value||fe(s)==null&&e.value)&&(a(W(e)?X(e.value):e.value),O!==null&&i.add(O)),de(()=>{var n=s();if(e===document.activeElement){var r=Oe??O;if(i.has(r))return}W(e)&&n===X(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function Xe(e,s,a=s){ue(e,"change",t=>{var i=t?e.defaultChecked:e.checked;a(i)}),(M&&e.defaultChecked!==e.checked||fe(s)==null)&&a(e.checked),de(()=>{var t=s();e.checked=!!t})}function W(e){var s=e.type;return s==="number"||s==="range"}function X(e){return e===""?null:+e}var Ke=Q('<div class="message bot typing svelte-ts0ou4"><strong class="svelte-ts0ou4">Bot:</strong> <span class="typing-dots svelte-ts0ou4"><span class="svelte-ts0ou4">.</span><span class="svelte-ts0ou4">.</span><span class="svelte-ts0ou4">.</span></span></div>'),Ze=Q('<div><strong class="svelte-ts0ou4"> </strong> </div>'),Qe=Q('<h1 class="title svelte-ts0ou4">Ask Josh!</h1>  <div class="main-layout svelte-ts0ou4"><div class="sidebar svelte-ts0ou4"><button class="home-btn svelte-ts0ou4">üè† Home</button> <div class="funny-toggle svelte-ts0ou4"><label class="switch svelte-ts0ou4"><input type="checkbox" class="svelte-ts0ou4"/> <span class="slider svelte-ts0ou4"></span></label> <span class="funny-label svelte-ts0ou4">Sexy Mode</span></div></div> <img alt="Oshie Bear" class="oshie svelte-ts0ou4"/> <div class="chat-section svelte-ts0ou4"><div class="chat-container svelte-ts0ou4"></div> <div class="input-container svelte-ts0ou4"><input type="text" placeholder="Ask Josh a question..." class="svelte-ts0ou4"/> <button class="svelte-ts0ou4">Send</button></div></div></div>',1);function na(e,s){Ve(s,!1);let a=q([]),t=q(""),i=null,n=q(!1);function r(l){if(b(n)){const c=["idk lol, anyway I have to go and play badminton YOU SLAAAAG","idk lol, anyway I have to go and have a wank"];return c[Math.floor(Math.random()*c.length)]}return"idk lol, anyway I have to go and play badminton"}async function _(){if(b(t).trim()==="")return;H(a,[...b(a),{sender:"user",text:b(t)}]),b(t),H(t,""),await new Promise(c=>setTimeout(c,1e3)),i=Symbol(),H(a,[...b(a),{sender:"bot",text:"__typing__",typingId:i}]),await new Promise(c=>setTimeout(c,3e3)),H(a,b(a).filter(c=>c.text!=="__typing__"||c.typingId!==i)),i=null;const l=r();H(a,[...b(a),{sender:"bot",text:l}])}_e();var p=Qe(),m=R(ae(p),2),y=B(m),T=B(y),v=R(T,2),h=B(v),o=B(h);le(o),te(2),N(h),te(2),N(v),N(y);var u=R(y,2),f=R(u,2),k=B(f);Fe(k,5,()=>b(a),l=>l.typingId||l.text+l.sender,(l,c)=>{var E=Le(),C=ae(E);{var x=A=>{var I=Ke();L(A,I)},D=A=>{var I=Ze(),V=B(I),J=B(V);N(V);var $=R(V);N(I),se(()=>{Ue(I,1,`message ${b(c).sender??""}`,"svelte-ts0ou4"),re(J,`${b(c).sender==="user"?"You":"Bot"}:`),re($,` ${b(c).text??""}`)}),L(A,I)};qe(C,A=>{b(c).text==="__typing__"?A(x):A(D,!1)})}L(l,E)}),N(k);var w=R(k,2),d=B(w);le(d);var g=R(d,2);N(w),N(f),N(m),se(()=>Je(u,"src",`${$e??""}/osh.png`)),P("click",T,()=>window.location.href="/"),Xe(o,()=>b(n),l=>H(n,l)),We(d,()=>b(t),l=>H(t,l)),P("keydown",d,l=>l.key==="Enter"&&_()),P("click",g,_),L(e,p),Ye()}export{na as component};
